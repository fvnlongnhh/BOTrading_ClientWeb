{"ast":null,"code":"var _jsxFileName = \"D:\\\\Linh tinh\\\\Money\\\\Gok_lagnooblag\\\\BOTrading_ClientWeb\\\\src\\\\Page\\\\DashBoard\\\\panelTransfer.js\";\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Service from './../../services/request';\nimport { useDispatch } from 'react-redux';\n\nfunction PanelStore(props) {\n  const user = useSelector(state => state.member);\n  const dispatch = useDispatch();\n  const DEFAULT_DATA_USER = {\n    phoneNumber: user.phoneNumber,\n    firstName: user.firstName\n  };\n  const DEFAULT = {\n    username: user.username,\n    password: \"\",\n    newPassword: \"\"\n  };\n  const [data, setData] = useState(DEFAULT);\n  const [userData, setUserData] = useState(DEFAULT_DATA_USER);\n\n  function handleSubmit() {\n    let check = true;\n    Object.keys(data).forEach(key => {\n      if (!data[key] || data[key] === \"\") {\n        check = false;\n      }\n    });\n\n    if (check) {\n      Service.send({\n        method: 'post',\n        path: 'User/changePasswordUser',\n        data\n      }).then(result => {\n        if (result) {\n          const {\n            statusCode,\n            message\n          } = result;\n\n          if (statusCode === 200) {\n            window.sweetAlert('', 'Cập nhật thành công', 'success');\n            setData(DEFAULT);\n          } else {\n            window.sweetAlert('', message || 'Đã có lỗi xảy ra', 'warning');\n          }\n        } else {\n          window.sweetAlert('', 'Xảy ra lỗi. Vui lòng thử lại sau', 'warning');\n          setData(DEFAULT);\n        }\n      });\n    } else {\n      window.sweetAlert('', 'Vui lòng điền vào tất cả các vị trí', 'warning');\n    }\n  }\n\n  function handleSubmitUser() {\n    let check = true;\n    Object.keys(userData).forEach(key => {\n      if (!userData[key] || userData[key] === \"\") {\n        check = false;\n      }\n    });\n\n    if (check) {\n      Service.send({\n        method: 'post',\n        path: 'User/updateUserById',\n        data: {\n          id: user.userId,\n          data: userData\n        }\n      }).then(result => {\n        if (result) {\n          const {\n            statusCode,\n            message\n          } = result;\n\n          if (statusCode === 200) {\n            window.sweetAlert('', 'Cập nhật thành công', 'success');\n            dispatch({\n              type: 'USER_DETAILS_UPDATE',\n              data: { ...user,\n                ...userData\n              }\n            });\n          } else {\n            window.sweetAlert('', message || 'Đã có lỗi xảy ra', 'warning');\n          }\n        } else {\n          window.sweetAlert('', 'Xảy ra lỗi. Vui lòng thử lại sau', 'warning');\n          setData(DEFAULT);\n        }\n      });\n    } else {\n      window.sweetAlert('', 'Vui lòng điền vào tất cả các vị trí', 'warning');\n    }\n  }\n\n  function onChange(e) {\n    const {\n      value,\n      name\n    } = e.target;\n    setData({ ...data,\n      [name]: value\n    });\n  }\n\n  function onChangeUser(e) {\n    const {\n      value,\n      name\n    } = e.target;\n    setUserData({ ...userData,\n      [name]: value\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area \",\n    id: \"store\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"index-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 6\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mobile-title mobile-show\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 8\n    }\n  }, \"Th\\xF4ng tin c\\xE1 nh\\xE2n\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"parent-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"member_form\",\n    action: \"/ajax/edit\",\n    method: \"POST\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: true,\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 16\n    }\n  }, \"T\\xEAn th\\u1EADt\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => {\n      onChangeUser(e);\n    },\n    value: userData.firstName,\n    name: \"firstName\",\n    type: \"text\",\n    required: true,\n    placeholder: \"Nh\\u1EADp m\\u1EADt t\\xEAn\",\n    className: \"input-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: true,\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 16\n    }\n  }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => {\n      onChangeUser(e);\n    },\n    value: userData.phoneNumber,\n    name: \"phoneNumber\",\n    type: \"text\",\n    required: true,\n    placeholder: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n    className: \"input-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      e.preventDefault();\n      handleSubmitUser();\n    },\n    className: \"submit btn btn-store\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 14\n    }\n  }, \"C\\u1EADp nh\\u1EADt\"), /*#__PURE__*/React.createElement(\"hr\", {\n    style: {\n      marginBottom: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: true,\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 16\n    }\n  }, \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => {\n      onChange(e);\n    },\n    value: data.password,\n    name: \"password\",\n    type: \"password\",\n    maxLength: 20,\n    required: true,\n    placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\",\n    className: \"input-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: true,\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 16\n    }\n  }, \"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => {\n      onChange(e);\n    },\n    value: data.newPassword,\n    name: \"newPassword\",\n    maxLength: 20,\n    type: \"password\",\n    required: true,\n    placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n    className: \"input-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      e.preventDefault();\n      handleSubmit();\n    },\n    className: \"submit btn btn-store\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 14\n    }\n  }, \"C\\u1EADp nh\\u1EADt\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"precautions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 14\n    }\n  }, \"Ghi ch\\xFA:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 14\n    }\n  }, \"Trong tr\\u01B0\\u1EDDng h\\u1EE3p kh\\xF4ng th\\u1EC3 thay \\u0111\\u1ED5i th\\xF4ng tin, qu\\xFD kh\\xE1ch vui l\\xF2ng li\\xEAn h\\u1EC7 v\\u1EDBi nh\\xE2n vi\\xEAn ch\\u0103ms\\xF3c kh\\xE1ch h\\xE0ng!\")))))))));\n}\n\nexport default PanelStore;","map":{"version":3,"sources":["D:/Linh tinh/Money/Gok_lagnooblag/BOTrading_ClientWeb/src/Page/DashBoard/panelTransfer.js"],"names":["React","useState","useSelector","Service","useDispatch","PanelStore","props","user","state","member","dispatch","DEFAULT_DATA_USER","phoneNumber","firstName","DEFAULT","username","password","newPassword","data","setData","userData","setUserData","handleSubmit","check","Object","keys","forEach","key","send","method","path","then","result","statusCode","message","window","sweetAlert","handleSubmitUser","id","userId","type","onChange","e","value","name","target","onChangeUser","preventDefault","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux'\r\nimport Service from './../../services/request'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nfunction PanelStore(props) {\r\n  const user = useSelector((state)=> state.member)\r\n  const dispatch = useDispatch()\r\n  const DEFAULT_DATA_USER ={\r\n    phoneNumber: user.phoneNumber,\r\n    firstName: user.firstName,\r\n  }\r\n\r\n  const DEFAULT ={\r\n    username: user.username,\r\n    password: \"\",\r\n    newPassword: \"\"\r\n  }\r\n  const [data, setData] = useState(DEFAULT)\r\n  const [userData, setUserData] = useState(DEFAULT_DATA_USER)\r\n\r\n  function handleSubmit(){\r\n    let check = true\r\n    Object.keys(data).forEach(key=>{\r\n      if( !data[key] || data[key] ===\"\" ){\r\n        check = false\r\n      }\r\n    })\r\n   \r\n    if(check){\r\n      Service.send({\r\n        method: 'post', path: 'User/changePasswordUser', data,\r\n      }).then(result => {\r\n        if (result) {\r\n          const { statusCode, message } = result\r\n          if (statusCode === 200) {\r\n            window.sweetAlert(\r\n              '',\r\n              'Cập nhật thành công',\r\n              'success'\r\n            )\r\n            setData(DEFAULT)\r\n          }else{\r\n            window.sweetAlert(\r\n              '',\r\n              message || 'Đã có lỗi xảy ra',\r\n              'warning'\r\n            )\r\n          }\r\n        } else{\r\n          window.sweetAlert(\r\n            '',\r\n            'Xảy ra lỗi. Vui lòng thử lại sau',\r\n            'warning'\r\n          )\r\n         setData(DEFAULT)\r\n        }\r\n      })\r\n    }else{\r\n      window.sweetAlert(\r\n        '',\r\n        'Vui lòng điền vào tất cả các vị trí',\r\n        'warning'\r\n      )\r\n    }\r\n  \r\n  }\r\n\r\n  function handleSubmitUser(){\r\n    let check = true\r\n    Object.keys(userData).forEach(key=>{\r\n      if( !userData[key] || userData[key] ===\"\" ){\r\n        check = false\r\n      }\r\n    })\r\n  \r\n    if(check){\r\n      Service.send({\r\n        method: 'post', path: 'User/updateUserById', data : { id: user.userId, data: userData},\r\n      }).then(result => {\r\n        if (result) {\r\n          const { statusCode, message } = result\r\n          if (statusCode === 200) {\r\n            window.sweetAlert(\r\n              '',\r\n              'Cập nhật thành công',\r\n              'success'\r\n            )\r\n          \r\n          \r\n              dispatch(({ type: 'USER_DETAILS_UPDATE', data: {\r\n                ...user,\r\n                ...userData\r\n              } }))\r\n            \r\n          }else{\r\n            window.sweetAlert(\r\n              '',\r\n              message || 'Đã có lỗi xảy ra',\r\n              'warning'\r\n            )\r\n          }\r\n        } else{\r\n          window.sweetAlert(\r\n            '',\r\n            'Xảy ra lỗi. Vui lòng thử lại sau',\r\n            'warning'\r\n          )\r\n         setData(DEFAULT)\r\n        }\r\n      })\r\n    }else{\r\n      window.sweetAlert(\r\n        '',\r\n        'Vui lòng điền vào tất cả các vị trí',\r\n        'warning'\r\n      )\r\n    }\r\n  \r\n  }\r\n\r\n  function onChange(e) {\r\n    const { value, name } = e.target\r\n    setData({\r\n      ...data,\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n  function onChangeUser(e) {\r\n    const { value, name } = e.target\r\n    setUserData({\r\n      ...userData,\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n   <>\r\n  <div className=\"area \" id=\"store\">\r\n \r\n     <div className=\"index-page\"> <div className=\"mobile-title mobile-show\">\r\n       <h2>Thông tin cá nhân</h2>\r\n     </div>\r\n     {/* <div className=\"mobile-title-space mobile-show\" />  */}\r\n     <div className=\"parent-content\">\r\n      <div className=\"content\">\r\n        <div className=\"form\">\r\n         <div className=\"right\">\r\n           <div className=\"member_form\" action=\"/ajax/edit\" method=\"POST\">\r\n         \r\n           <div className=\"input-block\">\r\n               <label htmlFor className=\"title\">Tên thật</label>\r\n               <input onChange={(e) => { onChangeUser(e) }} value={userData.firstName}  name=\"firstName\" type=\"text\" required placeholder=\"Nhập mật tên\" className=\"input-content\" />\r\n             </div>\r\n             <div className=\"input-block\">\r\n               <label htmlFor className=\"title\">Số điện thoại</label>\r\n               <input onChange={(e) => { onChangeUser(e) }} value={userData.phoneNumber}  name=\"phoneNumber\"  type=\"text\" required placeholder=\"Số điện thoại\" className=\"input-content\" />\r\n             </div>\r\n            \r\n             <button onClick={(e)=>{\r\n               e.preventDefault()\r\n               handleSubmitUser()\r\n             }} className=\"submit btn btn-store\">Cập nhật</button>\r\n             <hr style={{marginBottom:\"20px\"}}></hr>\r\n             <div className=\"input-block\">\r\n               <label htmlFor className=\"title\">Đổi mật khẩu</label>\r\n               <input onChange={(e) => { onChange(e) }} value={data.password}  name=\"password\" type=\"password\" maxLength={20} required placeholder=\"Nhập mật khẩu\" className=\"input-content\" />\r\n             </div>\r\n             <div className=\"input-block\">\r\n               <label htmlFor className=\"title\">Xác nhận mật khẩu</label>\r\n               <input onChange={(e) => { onChange(e) }} value={data.newPassword}  name=\"newPassword\" maxLength={20} type=\"password\" required placeholder=\"Nhập mật khẩu mới\" className=\"input-content\" />\r\n             </div>\r\n            \r\n             <button onClick={(e)=>{\r\n               e.preventDefault()\r\n               handleSubmit()\r\n             }} className=\"submit btn btn-store\">Cập nhật</button>\r\n           </div>\r\n         </div>\r\n         <div className=\"left\">\r\n           <div className=\"precautions\">\r\n             <h4>Ghi chú:</h4>\r\n             <p>Trong trường hợp không thể thay đổi thông tin, quý khách vui lòng liên hệ với nhân viên chămsóc khách hàng!</p>\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n     </div>\r\n     </div>\r\n\r\n  </div>\r\n   </>\r\n  )\r\n}\r\nexport default PanelStore;"]},"metadata":{},"sourceType":"module"}